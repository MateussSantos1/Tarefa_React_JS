{"ast":null,"code":"import'./App.css';import{useState,useEffect}from'react';import{BsTrash,BsBookmarkCheck,BsBookmarkCheckFill}from'react-icons/bs';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const API=\"http://localhost:5000\";function App(){const[title,setTitle]=useState(\"\");const[time,setTime]=useState(\"\");const[todos,setTodos]=useState([]);const[loading,setLoading]=useState(false);useEffect(()=>{const loadData=async()=>{setLoading(true);const res=await fetch(API+\"/todos\").then(res=>res.json()).then(data=>data).catch(err=>console.log(err));setLoading(false);setTodos(res);};loadData();},[]);const handleSubmit=async e=>{e.preventDefault();const todo={id:Math.random(),title,time,done:false};await fetch(API+\"/todos\",{method:\"POST\",body:JSON.stringify(todo),headers:{\"Content-Type\":\"application/json\"}});setTodos(prevState=>[...prevState,todo]);console.log(todo);setTitle(\"\");setTime(\"\");};const handleDelete=async id=>{await fetch(API+\"/todos/\"+id,{method:\"DELETE\"});setTodos(prevState=>prevState.filter(todo=>todo.id!==id));};const handleEdit=async todo=>{todo.done=!todo.done;const data=await fetch(API+\"/todos/\"+todo.id,{method:\"PUT\",body:JSON.stringify(todo),headers:{\"Content-Type\":\"application/json\"}});setTodos(prevState=>prevState.map(t=>t.id===data.id?t=data:t));};if(loading){return/*#__PURE__*/_jsx(\"p\",{children:\"Carregando...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"todo-header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"React Todo\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-todo\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Insira a sua pr\\xF3xima tarefa:\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"O que voc\\xEA vai fazer?\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",onChange:e=>setTitle(e.target.value),value:title||\"\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"time\",children:\"Dura\\xE7\\xE3o:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"time\",onChange:e=>setTime(e.target.value),value:time||\"\",required:true})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Criar Tarefa\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"list-todo\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Lista de Tarefas:\"}),todos.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"N\\xE3o h\\xE1 tarefas !!!\"}),todos.map(todo=>/*#__PURE__*/_jsxs(\"div\",{className:\"todo\",children:[/*#__PURE__*/_jsx(\"h3\",{className:todo.done?\"todo-done\":\"\",children:todo.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Dura\\xE7\\xE3o: \",todo.time]}),/*#__PURE__*/_jsxs(\"div\",{className:\"actions\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:()=>handleEdit(todo),children:!todo.done?/*#__PURE__*/_jsx(BsBookmarkCheck,{}):/*#__PURE__*/_jsx(BsBookmarkCheckFill,{})}),/*#__PURE__*/_jsx(BsTrash,{onClick:()=>handleDelete(todo.id)})]})]},todo.id))]})]});}export default App;","map":{"version":3,"names":["useState","useEffect","BsTrash","BsBookmarkCheck","BsBookmarkCheckFill","jsx","_jsx","jsxs","_jsxs","API","App","title","setTitle","time","setTime","todos","setTodos","loading","setLoading","loadData","res","fetch","then","json","data","catch","err","console","log","handleSubmit","e","preventDefault","todo","id","Math","random","done","method","body","JSON","stringify","headers","prevState","handleDelete","filter","handleEdit","map","t","children","className","onSubmit","htmlFor","type","name","onChange","target","value","required","length","onClick"],"sources":["C:/Users/Matt/Desktop/CURSO_GRATUITO/todo/src/App.js"],"sourcesContent":["import './App.css';\n\nimport { useState, useEffect } from 'react';\nimport { BsTrash, BsBookmarkCheck, BsBookmarkCheckFill } from 'react-icons/bs';\nconst API = \"http://localhost:5000\";\n\nfunction App() {\n  const [title, setTitle] = useState(\"\");\n  const [time, setTime] = useState(\"\");\n  const [todos, setTodos] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const loadData = async () => {\n      setLoading(true);\n      const res = await fetch(API + \"/todos\")\n        .then((res) => res.json())\n        .then((data) => data)\n        .catch((err) => console.log(err));\n\n      setLoading(false);\n      setTodos(res);\n    };\n    loadData();\n  }, []);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const todo = {\n      id: Math.random(),\n      title,\n      time,\n      done: false,\n    };\n\n    await fetch(API + \"/todos\", {\n      method: \"POST\",\n      body: JSON.stringify(todo),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    });\n\n    setTodos((prevState) => [...prevState, todo]);\n    console.log(todo);\n    setTitle(\"\");\n    setTime(\"\");\n  };\nconst handleDelete = async (id) => {\n  await fetch(API + \"/todos/\" + id, {\n    method: \"DELETE\"\n  });\n  setTodos((prevState) => prevState.filter((todo) => todo.id !== id));\n};\n\nconst handleEdit = async (todo) => {\n  todo.done = !todo.done;\n\n  const data = await fetch(API + \"/todos/\" + todo.id, {\n    method: \"PUT\",\n    body: JSON.stringify(todo),\n    headers: {\n      \"Content-Type\": \"application/json\",\n    }\n  });\n  setTodos((prevState) =>\n   prevState.map((t) =>(t.id === data.id) ? (t = data)  : t))\n};\n\n  if (loading) {\n    return <p>Carregando...</p>;\n  }\n\n  return (\n    <div className=\"App\">\n      <div className='todo-header'>\n        <h1>React Todo</h1>\n      </div>\n      <div className='form-todo'>\n        <h2>Insira a sua próxima tarefa:</h2>\n        <form onSubmit={handleSubmit}>\n          <div className=\"form-control\">\n            <label htmlFor=\"title\">O que você vai fazer?</label>\n            <input\n              type='text'\n              name='title'\n              onChange={(e) => setTitle(e.target.value)}\n              value={title || \"\"}\n              required\n            />\n          </div>\n          <div className=\"form-control\">\n            <label htmlFor=\"time\">Duração:</label>\n            <input\n              type='text'\n              name='time'\n              onChange={(e) => setTime(e.target.value)}\n              value={time || \"\"}\n              required\n            />\n          </div>\n          <input type=\"submit\" value=\"Criar Tarefa\" />\n        </form>\n      </div>\n      <div className='list-todo'>\n        <h2>Lista de Tarefas:</h2>\n        {todos.length === 0 && <p>Não há tarefas !!!</p>}\n        {todos.map((todo) => (\n          <div className='todo' key={todo.id}>\n            <h3 className={todo.done ? \"todo-done\" : \"\"}>{todo.title}</h3>\n            <p>Duração: {todo.time}</p>\n            <div className='actions'>\n              <span onClick={() => handleEdit(todo)}>\n                {!todo.done ? <BsBookmarkCheck /> : <BsBookmarkCheckFill />}\n              </span>\n              <BsTrash onClick={() => handleDelete(todo.id)}/>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}